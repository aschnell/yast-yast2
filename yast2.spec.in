@HEADER-COMMENT@

@HEADER@
Source1:	yast2-rpmlintrc

BuildRequires:	perl-XML-Writer update-desktop-files yast2-devtools yast2-pkg-bindings yast2-testsuite yast2-perl-bindings

# Mod_UI
Requires:       yast2-core >= 2.16.6

# Pkg::PkgAvailable() and Pkg::PkgInstalled()
Requires:	yast2-pkg-bindings >= 2.15.47
Requires:	yast2_ui yast2_theme
# For Cron Agent, Module
Requires:       perl-Config-Crontab
# for ag_tty (/bin/stty)
# for /usr/bin/md5sum
Requires:	coreutils sysconfig
Requires:	yast2-xml yast2-hardware-detection
# for SLPAPI.pm
Requires:	yast2-perl-bindings
# for ag_anyxml
Requires:	perl-XML-Bare

# moved cfg_security.scr
Conflicts:	yast2-security <= 2.13.2
# moved ag_netd, cfg_netd.scr, cfg_xinetd.scr
Conflicts:	yast2-inetd <= 2.13.4
Conflicts:	yast2-tune < 2.15.6
Obsoletes:	yast2-mail-aliases <= 2.14.0
Conflicts:	yast2-storage < 2.16.4
Conflicts:	yast2-network < 2.16.6
# Hotplug and HwStatus modules
Conflicts:	yast2-installation < 2.16.2
Conflicts:	yast2-update < 2.16.1
# ag_anyxml moved to yast2 from yast2-packager
Conflicts:	yast2-packager < 2.16.5
Conflicts:	yast2-mouse < 2.16.0
Conflicts:	autoyast2-installation < 2.16.2

Provides:	yast2-lib-sequencer
Obsoletes:	yast2-lib-sequencer
Provides:	yast2-lib-wizard yast2-lib-wizard-devel yast2-trans-wizard
Obsoletes:	yast2-lib-wizard yast2-lib-wizard-devel yast2-trans-wizard
Provides:	yast2-trans-menu y2t_menu
Obsoletes:	yast2-trans-menu y2t_menu

# moved here from another packages
Provides:	yast2-installation:/usr/share/YaST2/modules/Installation.ycp
Provides:	yast2-installation:/usr/share/YaST2/modules/Product.ycp
Provides:	yast2-installation:/usr/share/YaST2/modules/Hotplug.ycp
Provides:	yast2-installation:/usr/share/YaST2/modules/HwStatus.ycp
Provides:	yast2-network:/usr/share/YaST2/modules/Internet.ycp
Provides:	yast2-packager:/usr/lib/YaST2/servers_non_y2/ag_anyxml
Provides:       yast2-mail-aliases

Summary:	Main YaST2 package

%description
-

%package devel-doc
Requires:       yast2 = %version
Group:          Development/Libraries
Provides:	yast2-lib-sequencer-devel
Obsoletes:	yast2-lib-sequencer-devel
Obsoletes:	yast2-devel
Provides:	yast2-devel
Requires:	yast2-core-devel

Summary:	Documentation for Wizard and Sequencer

%description devel-doc
-

@PREP@

@BUILD@

# removed explicit adding of translations to group desktop files, since it is covered by the general call (they are in a subdirectory) and it caused build fail

@INSTALL@

mkdir -p "$RPM_BUILD_ROOT"@clientdir@
mkdir -p "$RPM_BUILD_ROOT"@desktopdir@
mkdir -p "$RPM_BUILD_ROOT"@imagedir@
mkdir -p "$RPM_BUILD_ROOT"@localedir@
mkdir -p "$RPM_BUILD_ROOT"@moduledir@
mkdir -p "$RPM_BUILD_ROOT"@scrconfdir@
mkdir -p "$RPM_BUILD_ROOT"@ybindir@
mkdir -p "$RPM_BUILD_ROOT"@ydatadir@
mkdir -p "$RPM_BUILD_ROOT"@yncludedir@
mkdir -p "$RPM_BUILD_ROOT"@vardir@
mkdir -p "$RPM_BUILD_ROOT"@schemadir@/control/rnc
mkdir -p "$RPM_BUILD_ROOT"@schemadir@/autoyast/rnc
mkdir -p "$RPM_BUILD_ROOT"/etc/YaST2

@CLEAN@

%post
%{fillup_only -n yast2}

%files
%defattr(-,root,root)

# basic directory structure

%dir @clientdir@
%dir @desktopdir@
@desktopdir@/groups
%dir @imagedir@
%dir @localedir@
%dir @moduledir@
%dir @scrconfdir@
%dir @ybindir@
%dir @ydatadir@
%dir @yncludedir@
%dir @vardir@
%dir @schemadir@
%dir @schemadir@/control
%dir @schemadir@/control/rnc
%dir @schemadir@/autoyast
%dir @schemadir@/autoyast/rnc
%dir /etc/YaST2

# yast2

@clientdir@/*
@moduledir@/*
@scrconfdir@/*
@ybindir@/*
@agentdir@/ag_*
/etc/bash_completion.d/yast2*.sh
/etc/YaST2/XVersion
/var/adm/fillup-templates/sysconfig.yast2

# documentation (not included in devel subpackage)
%doc %dir @docdir@
%doc @docdir@/COPYING
%doc @docdir@/README
%doc %{_mandir}/*/*

/sbin/*

# wizard
%dir @yncludedir@/wizard
@yncludedir@/wizard/*.ycp

#packags
%dir @yncludedir@/packages
@yncludedir@/packages/*.ycp

#system
%dir @yncludedir@/hwinfo
@yncludedir@/hwinfo/*.ycp

# documentation
%files devel-doc
%defattr(-,root,root)

%doc @docdir@/autodocs
%doc @docdir@/commandline
%doc @docdir@/cron
%doc @docdir@/cwm
%doc @docdir@/desktop
%doc @docdir@/gpg
%doc @docdir@/log
%doc @docdir@/network
%doc @docdir@/packages
%doc @docdir@/runlevel
%doc @docdir@/sequencer
%doc @docdir@/system
%doc @docdir@/types
%doc @docdir@/wizard
