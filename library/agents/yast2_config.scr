/**
 * File:	yast2_config.scr
 * Summary:	Agent for yast2 config (y2cc) files
 * Author:	Michal Svec <msvec@suse.cz>
 * Access:	read only
 *
 * Example:
 *   Dir(.yast2.config)
 *   (["lan", "modem", "isdn", ...])
 **
 *   Dir(.yast2.config.lan)
 *   (["Name", "Group", ...])
 **
 *   Read(.yast2.config.lan.Textdomain)
 *   ("network")
 *
 * $Id$
 */
.yast2.config

`ag_ini(
    IniAgent( [ "/usr/share/YaST2/config/*.y2cc" ],
	$[
	    "options"	: [ "read_only", /* "flat", */ "global_values" ],
	    "comments"	: [ "^[ \t]*\\[.*", "^[ \t]*;.*", ";.*", "\\{[^}]*\\}", "^[ \t]*$" ],
	    "params" : [
		$[ "match" : [
		    "^[ \t]*([^ ]*)[ \t]*=[ \t]*(.*)[ \t]*$",
		    "%s = %s",
		]],
	    ],
	    "rewrite" : [
		[ "/usr/share/YaST2/config/(.*)\.y2cc", "/usr/share/YaST2/config/%s.y2cc" ],
		[ "/usr/share/YaST2/config/(.*)", "/usr/share/YaST2/config/%s" ],
	    ],
	]
    )
)
