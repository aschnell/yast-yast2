/**
 *  ProductProfile.ycp
 *  Tests of ProductProfile routines
 */
{
    // testedfiles: ProductProfile.ycp
    import "Testsuite";
    import "ProductProfile";

    map READ	= $[
	"target"	: $[
	    "tmpdir"	: "/tmp/YaST"
	],
    ];
    map EX	= $[
	"target"	: $[
	    "bash_output"	: $[]
	]
    ];

    // just returns true because of non-installation mode
    Testsuite::Test (``(ProductProfile::CheckCompliance (nil)), [ READ, $[], EX ], 0);

    Testsuite::Test (``(ProductProfile::compliance_checked), [], 0);

    import "Mode";
    Mode::SetMode ("installation");

    ProductProfile::compliance_checked	= $[ 1 : true ];

    // exits on compliance_checked test
    Testsuite::Test (``(ProductProfile::CheckCompliance (nil)), [ READ, $[], EX ], 0);

    Testsuite::Test (``(ProductProfile::CheckCompliance (1)), [ READ, $[], EX ], 0);

    // this would continue to IsCompliant and initialize Pkg::
    // Testsuite::Test (``(ProductProfile::CheckCompliance (2)), [ READ, $[], EX ], 0);

}
