{
    include "testsuite.ycp";

    TESTSUITE_INIT ([$[ "target" : $[ "tmpdir": "/tmp" ] ], $[], $[]], nil);

    import "Service";

    map READ = $[];
    map EXEC = $[
	"target": $[
	    "bash": 0,
	    "bash_output": $["exit": 0, "stdout": "", "stderr" :""],
	    ],
	];

    READ = $[ "init" : $[ "scripts" : $[
		"exists" : true
		] ],
	    "target" : $[
		"stat" : $["isreg": true]
	    ]
	];
    TEST (``(Service::Finetune ("aaa", ["1", "3", "5"])), [ READ, $[], EXEC ], nil);

    READ = $[ "init" : $[ "scripts" : $[
		"exists" : true,
	    ] ],
	    "target" : $[
		"stat" : $["isreg": true]
	    ]
	];
    TEST (``(Service::Finetune ("aaa", [])), [ READ, $[], EXEC ], nil);
}
