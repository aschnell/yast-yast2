{

include "testsuite.ycp";
include "./../src/sequencer.ycp";

define f1() ``{ return "1"; }
define f2() ``{ return 2; }
define f3() ``{ return `id3; }

map aliases1 = $[
    `x  : "x",
    "1" : "1",
    "2" : [],
    "3" : [ ``(f1()) ],
    "4" : [ "4", `x ],
    "5" : [ ``(f2()), "5" ],
    "6" : [ ``(f3()), true ],
    "7" : [ ``(f4()), false ],
    "8" : ``(f5()),
    "9" : ``(f6()),
    "A" : ``(f7())
];

map sequence1 = $[
    "ws_start" : "missing",
    "0" : $[],
    "8" : [],
    "9" : $[],
    "A" : $[
        "blah" : `back,
        `next : "huu",
        `finish: `ok
    ]
];

TEST(``(WS_check($[], $[])), [], nil);
TEST(``(WS_check(aliases1, sequence1)), [], nil);

TEST(``(WS_check($[], $[ "ws_start" : `ws_finish ] )), [], nil);

integer cur = -1;
include "./tests/Wizard.yh";
TEST(``(WS_check(aliases(), sequence())), [], nil);

}
